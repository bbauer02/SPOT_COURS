// ****************************************************************************
// Template d'affichage des informations relatives à un chapitre ou à un livre
// ****************************************************************************
//
//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// Préparation des informations du support
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//indication du besoin d'un séparateur entre la métadonnées analysée et la précédente
:!_need_of_separator:


// ----------------------------------------------------------------------------
// Préparation du texte contenant le numéro de version / révision
// ----------------------------------------------------------------------------
:_version_number_text:
ifdef::_version_number[]
ifeval::["{_version_number}" != ""]
:_version_number_text: Version {_version_number}
ifdef::_need_of_separator[]
:_version_number_text:  | {_version_number_text}
endif::_need_of_separator[]
:_need_of_separator:
//end eval _version_number
endif::[]
endif::_version_number[]

//
// ----------------------------------------------------------------------------
// Préparation du texte contenant la date de version / révision
// ----------------------------------------------------------------------------
:_version_date_text:
ifdef::_version_date[]
ifeval::["{_version_date}" != ""]
:_version_date_text: Dernière mise à jour : {_version_date}
ifdef::_need_of_separator[]
:_version_date_text:  | {_version_date_text}
endif::_need_of_separator[]
:_need_of_separator:
//end eval _version_date
endif::[]
endif::_version_date[]

//
// ----------------------------------------------------------------------------
// Préparation du texte contenant l'auteur
// ----------------------------------------------------------------------------
//
// si l'attribut auteur est déclaré mais vide, on n'affiche pas l'auteur. S'il est déclaré et vide, on affiche l'auteur par défaut s'il est défini, sinon on n'affiche rien. Si un auteur spécifique est déclaré, c'est ce dernier qui est affiché.
:_author_text:
// l'attribut _author est défini ce qui indique que l'auteur doit être affiché
ifdef::_author[]
//
//choix de l'auteur par défaut s'il est spécifié par l'utilisateur
ifeval::["{_author}" == ""]
ifeval::["{_default_author}" != ""]
:_author_text: Auteur : {_default_author}
//end eval _default_author
endif::[]
//end eval _author
endif::[]
//
//choix de l'auteur spécifié au niveau du livre, chapitre ou exercice
ifeval::["{_author}" != ""]
:_author_text: Auteur : {_author}
//end eval _author
endif::[]
endif::_author[]

ifeval::["{_author_text}" != ""]
ifdef::_need_of_separator[]
:_author_text:  | {_author_text}
endif::_need_of_separator[]

//end eval _author_text
endif::[]

//

:!_need_of_separator:

// ----------------------------------------------------------------------------
// Préparation du texte concernant la durée du support
// ----------------------------------------------------------------------------
//
:_duration_text:
ifdef::_duration[]
ifeval::["{_duration}" != ""]
:_duration_text: Durée de réalisation : {_duration}
:_need_of_separator:
//end eval _duration
endif::[]
endif::_duration[]
//
//
// ----------------------------------------------------------------------------
// Préparation du texte de la durée de correction
// ----------------------------------------------------------------------------
//
:_duration_of_correction_text:
ifdef::_duration_of_correction[]
ifeval::["{_duration_of_correction}" != ""]
:_duration_of_correction_text: Durée de correction : {_duration_of_correction}
ifdef::_need_of_separator[]
:_duration_of_correction_text:  | {_duration_of_correction_text}
endif::_need_of_separator[]
//end eval _duration_of_correction
endif::[]
endif::_duration_of_correction[]

:_line_1: {_version_number_text}{_version_date_text}{_author_text}
:_line_2: {_duration_text}{_duration_of_correction_text}

//
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
// Affichage des informations du support
// ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
//

// s'il n'y a que la ligne 1
ifeval::["{_line_2}" == ""]
ifeval::["{_line_1}" != ""]
[.metadata]#_{_line_1}_#
//end eval _line_1
endif::[]
//end eval _line_2
endif::[]

//s'il n'y a que la ligne 2
ifeval::["{_line_1}" == ""]
ifeval::["{_line_2}" != ""]
[.metadata]#_{_line_2}_#
//end eval _line_2
endif::[]
//end eval _line_1
endif::[]

//s'il y a la ligne 1 et 2
ifeval::["{_line_1}" != ""]
ifeval::["{_line_2}" != ""]
[.metadata]#_{_line_1}_# +
[.metadata]#_{_line_2}_#
//end eval _line_2
endif::[]
//end eval _line_1
endif::[]

//laisser une ligne vide avant la présente ligne
//laisser une ligne vide avant la présente ligne
//laisser une ligne vide avant la présente ligne